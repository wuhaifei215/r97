<?php
/*-------------------------------------------------
 1️⃣ 把模块强制为 Pay （必须在加载框架之前）
 -------------------------------------------------*/
$_GET['g']     = 'Pay';
$_POST['g']    = 'Pay';
$_REQUEST['g'] = 'Pay';

if (!defined('MODULE_NAME')) {
    define('MODULE_NAME', 'Pay');   // 覆盖默认模块常量
}

/*-------------------------------------------------
 2️⃣ 指定 Application 目录
 -------------------------------------------------*/
if (!defined('APP_PATH')) {
    // 此文件位于站点根目录的子目录 /api/
    define('APP_PATH', dirname(__DIR__) . '/Application/');
}

/*-------------------------------------------------
 3️⃣ 加载 ThinkPHP
 -------------------------------------------------*/
require dirname(__DIR__) . '/core/ThinkPHP.php';

/*-------------------------------------------------
 4️⃣ 执行 Pay 模块下 TreealPay 的 notifyurl
 -------------------------------------------------*/
R('Pay/TreealPay/notifyurl');   // 完整路由调用

/*-------------------------------------------------
 5️⃣ 结束脚本
 -------------------------------------------------*/
exit;
